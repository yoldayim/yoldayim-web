(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();function a(n,i=document){return i.querySelector(n)}function D(n,i=document){return Array.from(i.querySelectorAll(n))}function I(n,i,t,r){return n.addEventListener(i,t,r),()=>n.removeEventListener(i,t,r)}function O(n,i){n&&(n.textContent=i)}function V(){const n=a(".hero"),i=[{title:"Artık Tüm Çocuklar Servis Yolunda Güvende!",description:"Çocuğunuzun servise bindiği andan indiği ana kadar tüm süreci anlık bildirimlerle takip edin. Huzurlu bir gün geçirin."},{title:"Aileleri ve Servisleri Güvenle Buluşturuyoruz.",description:"Velileri, servis firmalarını ve okulları tek çatı altında buluşturan yeni nesil platform: Anlık rota takibi ve akıllı zamanlama ile daha güvenli ve verimli yolculuklar."},{title:"Servis Yönetimi İçin Tam Kontrol Sağlıyoruz.",description:"Servis operasyonlarınızı tek bir panelden yönetin, raporlar alın ve velilerle anında iletişim kurun. Verimliliği ve güvenliği en üst düzeye çıkarın."}],t=5e3;let r=0;const e=a("#heroTextWrapper"),o=a("#heroTitle"),s=a("#heroDescription"),c=D("#heroProgress span");function l(b){!e||!o||!s||c.length===0||!n||(n.classList.remove("slide-0","slide-1","slide-2"),n.classList.add(`slide-${b}`),e.style.opacity="0",setTimeout(()=>{O(o,i[b].title),O(s,i[b].description),e.style.opacity="1"},300),c.forEach(S=>S.classList.remove("active")),c[b]&&c[b].classList.add("active"))}function h(){r=(r+1)%i.length,l(r)}e&&c.length>0&&(l(r),setInterval(h,t))}function F(){const n=a("#landing-page-content");if(!n)return;if(window.innerWidth<=992){document.body.style.overflow="auto",document.documentElement.style.overflow="auto",n.style.overflowY="auto";return}const i=D(".scroll-section",n),t=i.length-1;let r=!0,e=0,o=!1,s=0;const c=300,l=20,h=()=>{if(e>=t)return;const f=i[e].querySelector(".scroll-indicator");if(!f)return;const y=f.querySelector(".indicator-progress");if(!y)return;const g=y.r.baseVal.value,p=2*Math.PI*g,d=Math.max(0,Math.min(1,s/c)),u=p-d*p;y.style.strokeDashoffset=String(u)},b=f=>{o||(o=!0,i[f].scrollIntoView({behavior:"smooth"}),e=f,setTimeout(()=>{o=!1,s=0,e===t?(r=!1,document.body.style.overflow="auto",document.documentElement.style.overflow="auto",n.style.overflowY="auto",i.forEach(y=>{const g=y.querySelector(".scroll-indicator");g&&(g.style.display="none")})):h()},1e3))};I(n,"wheel",f=>{if(!r||o){r&&f.preventDefault();return}f.preventDefault(),Math.sign(f.deltaY)>0?(s+=l,s>=c&&e<t&&b(e+1)):(s-=l,s<=0&&e>0&&b(e-1)),s=Math.max(0,Math.min(c,s)),h()},{passive:!1}),i.forEach((f,y)=>{const g=f.querySelector(".scroll-indicator");if(g){const p=g.querySelector(".indicator-progress");if(p){const d=p.r.baseVal.value,u=2*Math.PI*d;p.style.strokeDasharray=`${u} ${u}`,p.style.strokeDashoffset=String(u)}y<t&&I(g,"click",d=>{d.preventDefault(),b(y+1)})}})}function H(){const n=[{id:"parent",nodeId:"node-parent",pathPercentage:.08,title:"Veliler! Gözünüz Arkada Kalmasın",description:"Çocuğunuzun her an güvende olduğunu bilmenin huzurunu yaşayın. Gelişmiş takip sistemimiz ve anlık bildirimlerle, okul yolculuğunun her adımını kolayca izleyin.",features:["Servis aracını harita üzerinde canlı takip etme","Araç eve yaklaştığında otomatik bildirim alma","Öğrencinin servise biniş ve iniş anlarından haberdar olma","Sürücü veya okul ile anında iletişim kurma"],image:"/in-app-screenshots/Parent@3x.png",imageAlt:"Veli mobil uygulaması ekran görüntüsü"},{id:"service",nodeId:"node-service",pathPercentage:.5,title:"Servis Firmaları İçin Verimlilik ve Kontrol",description:"Operasyonel maliyetlerinizi düşürürken hizmet kalitenizi artırın. Akıllı rota planlama ve filo yönetimi ile iş süreçlerinizi optimize edin.",features:["Yakıt ve zaman tasarrufu sağlayan rota optimizasyonu","Araç ve sürücü performansını tek panelden izleme","Velilerle ve okullarla anlık, kolay iletişim","Detaylı raporlama ile operasyonel verimliliği ölçme"],image:"/in-app-screenshots/Servis@3x.png",imageAlt:"Servis yönetimi ekran görüntüsü"},{id:"school",nodeId:"node-school",pathPercentage:.92,title:"Okul Yönetimi İçin Tam Koordinasyon",description:"Tüm servis operasyonunu tek bir ekrandan yöneterek idari yükü azaltın. Öğrenci güvenliğini en üst düzeyeye çıkarın ve veli memnuniyetini artırın.",features:["Tüm servislerin anlık konumunu ve durumunu görüntüleme","Öğrenci yoklama ve devamlılık takibini dijitalleştirme","Acil durum ve duyuruları tüm paydaşlara anında iletme","Veli, servis ve okul arasında şeffaf bir iletişim köprüsü kurma"],image:"/in-app-screenshots/Okul@3x.png",imageAlt:"Okul yönetimi ekran görüntüsü"}];let i=0,t=0,r=!1;const e=document.querySelector("#journey-path"),o=document.getElementById("journey-bus"),s=document.querySelectorAll(".journey-node"),c=document.getElementById("journey-details-title"),l=document.getElementById("journey-details-description"),h=document.getElementById("journey-details-list"),b=document.getElementById("journeyPrevBtn"),S=document.getElementById("journeyNextBtn"),f=document.querySelector(".journey-details-content"),y=document.getElementById("journey-details-image");if(!e||!o)return;function g(){const L=document.querySelector(".journey-visual");if(!L||!e||!L.classList.contains("is-mobile"))return{x:0,y:0};const w=e.ownerSVGElement;if(!w)return{x:0,y:0};const k=L.offsetWidth,E=w.offsetWidth;return{x:(k-E)/2,y:0}}function p(L){if(!e||!o||r||e.getTotalLength()===0)return;r=!0;const w=g(),k=t,E=1200,A=e.getTotalLength();let x=null;const P=m=>m<.5?4*m*m*m:1-Math.pow(-2*m+2,3)/2;function j(m){if(!r||!e||!o){r=!1;return}x||(x=m);const q=m-x;let v=Math.min(q/E,1);v=P(v);const M=k+(L-k)*v,C=e.getPointAtLength(A*M),N=e.getPointAtLength(A*Math.min(M+.001,1)),$=Math.atan2(N.y-C.y,N.x-C.x)*(180/Math.PI);o.style.transform=`translate(${C.x+w.x}px, ${C.y+w.y}px) translate(-50%, -50%) rotate(${$}deg)`,v<1?requestAnimationFrame(j):(t=L,r=!1)}requestAnimationFrame(j)}function d(L,w){var x;if(!c||!l||!h||!e||!o||!f)return;const k=n[L],E=document.querySelector(".journey-visual"),A=E&&E.classList.contains("is-mobile");if(s.forEach(P=>P.classList.remove("active")),(x=document.getElementById(k.nodeId))==null||x.classList.add("active"),f.style.opacity="0",setTimeout(()=>{c.textContent=k.title,l.textContent=k.description,h.innerHTML=k.features.map(P=>`<li>${P}</li>`).join(""),y&&(y.src=k.image,y.alt=k.imageAlt),f.style.opacity="1"},300),!A)if(w)p(k.pathPercentage);else{t=k.pathPercentage;const P=e.getTotalLength();if(P>0){const j=g(),m=e.getPointAtLength(P*t),q=e.getPointAtLength(P*Math.min(t+.001,1)),v=Math.atan2(q.y-m.y,q.x-m.x)*(180/Math.PI);o.style.transition="none",o.style.transform=`translate(${m.x+j.x}px, ${m.y+j.y}px) translate(-50%, -50%) rotate(${v}deg)`,requestAnimationFrame(()=>{o&&(o.style.transition="")})}}}function u(){if(!e||window.getComputedStyle(e).display==="none")return;const L=document.querySelector(".journey-visual");if(L&&L.classList.contains("is-mobile")){s.forEach(E=>{E.style.left="",E.style.top=""});return}const w=e.getTotalLength();if(w===0)return;const k=g();n.forEach(E=>{const A=document.getElementById(E.nodeId);if(A){const x=e.getPointAtLength(w*E.pathPercentage);A.style.left=`${x.x+k.x}px`,A.style.top=`${x.y+k.y}px`}})}const z=document.querySelector(".journey-visual"),T=()=>{var A,x;if(!e||!z)return;r=!1;const L=window.innerWidth<=768,w=z.classList.contains("is-mobile");let k=!1;L&&!w?(z.classList.add("is-mobile"),e.setAttribute("d","M 50 25 C -20 125, 120 225, 50 325"),(A=e.parentElement)==null||A.setAttribute("viewBox","0 0 100 350"),k=!0):!L&&w&&(z.classList.remove("is-mobile"),e.setAttribute("d","M 50 50 C 200 100, 300 0, 400 50 S 600 100, 750 50"),(x=e.parentElement)==null||x.setAttribute("viewBox","0 0 800 100"),k=!0);const E=()=>{requestAnimationFrame(()=>{e.getTotalLength()===0?setTimeout(()=>requestAnimationFrame(E),50):(u(),d(i,!1))})};k?setTimeout(E,50):E()};T(),S==null||S.addEventListener("click",()=>{r||(i=(i+1)%n.length,d(i,!0))}),b==null||b.addEventListener("click",()=>{r||(i=(i-1+n.length)%n.length,d(i,!0))}),s.forEach((L,w)=>{L.addEventListener("click",()=>{r||i===w||(i=w,d(i,!0))})}),window.addEventListener("resize",T)}const B={"/":"landing-page-content","/gizlilik-politikasi":"gizlilik-politikasi-page","/kullanim-kosullari":"kullanim-kosullari-page","/veliler":"veliler-page","/okullar":"okullar-page","/servis-yoneticileri":"servis-yoneticileri-page","/suruculer":"suruculer-page","/misyonumuz":"misyonumuz-page","/vizyonumuz":"vizyonumuz-page","/biz-kimiz":"biz-kimiz-page","/iletisim":"iletisim-page"};function W(){const n=a("#landing-page-content"),i=a("#logo-link"),t=a("#veliler-nav-link"),r=a("#okullar-nav-link"),e=a("#servis-yoneticileri-nav-link"),o=a("#suruculer-nav-link"),s=a("#misyonumuz-nav-link"),c=a("#vizyonumuz-nav-link"),l=a("#biz-kimiz-nav-link"),h=a("#iletisim-nav-link"),b=a("#gizlilik-politikasi-nav-link"),S=a("#kullanim-kosullari-nav-link"),f=a("#veliler-page"),y=a("#okullar-page"),g=a("#servis-yoneticileri-page"),p=a("#suruculer-page"),d=a("#misyonumuz-page"),u=a("#vizyonumuz-page"),z=a("#biz-kimiz-page"),T=a("#iletisim-page"),L=a("#gizlilik-politikasi-page"),w=a("#kullanim-kosullari-page"),k=[n,f,y,g,p,d,u,z,T,L,w];function E(){k.forEach(m=>{m&&m.classList.add("is-hidden")})}function A(m){if(E(),m){m.classList.remove("is-hidden"),window.scrollTo(0,0),D(".dropdown.open").forEach(M=>M.classList.remove("open"));const q=["gizlilik-politikasi-page","kullanim-kosullari-page"],v=a("#logo-link");if(q.includes(m.id)){document.body.classList.add("legal-page-active");const M=a("nav");M&&M.classList.remove("mobile-menu-open"),v&&(v.style.pointerEvents="none",v.style.cursor="default")}else document.body.classList.remove("legal-page-active"),v&&(v.style.pointerEvents="",v.style.cursor="");m.id==="landing-page-content"?(document.body.style.height="100%",document.documentElement.style.height="100%",document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.height="auto",document.documentElement.style.height="auto",document.body.style.overflow="auto",document.documentElement.style.overflow="auto")}}[{link:i,page:n},{link:t,page:f},{link:r,page:y},{link:e,page:g},{link:o,page:p},{link:s,page:d},{link:c,page:u},{link:l,page:z},{link:h,page:T},{link:b,page:L},{link:S,page:w}].forEach(({link:m,page:q})=>{m&&I(m,"click",v=>{if(m.id==="logo-link"&&document.body.classList.contains("legal-page-active")){v.preventDefault(),v.stopPropagation();return}v.preventDefault();const M=Object.keys(B).find(C=>B[C]===q.id);M&&window.history&&window.history.pushState&&window.history.pushState({page:q.id},"",M),A(q)})}),D(".dropdown > a").forEach(m=>{I(m,"click",q=>{if(window.innerWidth<=992){q.preventDefault();const v=m.closest(".dropdown");v&&v.classList.toggle("open")}})});function P(){const m=window.location.pathname,q=B[m];if(q){const v=a(`#${q}`);if(v)return A(v),window.history&&window.history.pushState&&window.history.replaceState({page:q},"",m),!0}return m==="/"||m==="/index.html"?(A(n),!0):!1}function j(){setTimeout(()=>{P()},0)}j(),window.addEventListener("popstate",()=>{setTimeout(()=>{P()},0)}),window.addEventListener("load",()=>{setTimeout(()=>{P()},0)})}function G(){const n=a("#showNewsletterFormBtn"),i=a("#newsletter-container"),t=a("#newsletterForm");!n||!i||!t||(I(n,"click",r=>{r.preventDefault(),i.classList.add("form-active")}),I(t,"submit",async r=>{r.preventDefault();const e=t.querySelector('input[name="email"]'),o=t.querySelector('textarea[name="message"]'),s=t.querySelector('button[type="submit"]');if(s){s.textContent="Gönderiliyor...",s.setAttribute("disabled","true");const c=t.querySelector(".form-error");c&&c.remove()}try{if(!(await fetch("/api/newsletter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.value,message:o.value})})).ok)throw new Error("Network response was not ok");i.innerHTML='<p style="font-size: 1.2rem; color: white; transition: opacity 0.5s ease;">Teşekkürler! Gelişmelerden sizi haberdar edeceğiz.</p>'}catch{s&&(s.textContent="Tekrar Gönder",s.removeAttribute("disabled"));let l=t.querySelector(".form-error");l||(l=document.createElement("p"),l.className="form-error",l.style.color="white",l.style.marginTop="1rem",l.style.textAlign="center",t.appendChild(l)),l.textContent="Bir hata oluştu. Lütfen tekrar deneyin."}}))}function Y(){const n=a("#iletisim-page");if(!n)return;const i=document.querySelectorAll(".request-demo-btn"),t=a("#contactForm"),r=t==null?void 0:t.parentElement;i.forEach(e=>{e.addEventListener("click",o=>{if(o.preventDefault(),!!n&&(n.style.display="block",window.scrollTo(0,0),t&&r)){const s=r.querySelector(".form-success-message");s&&s.remove(),t.style.display="flex",t.reset();const c=t.querySelector('button[type="submit"]');c&&(c.textContent="Gönder",c.removeAttribute("disabled"));const l=t.querySelector(".form-error-msg");l&&l.remove();const h=t.querySelector('input[name="subject"]');h&&(h.value="Demo Talebi",h.focus())}})}),t&&I(t,"submit",async e=>{e.preventDefault();const o=t.querySelector('button[type="submit"]');if(o){o.textContent="Gönderiliyor...",o.setAttribute("disabled","true");const d=t.querySelector(".form-error-msg");d&&d.remove()}const s="https://formspree.io/f/xzzjroor",c="POST",l=new FormData,h=t.querySelector('input[name="company"]'),b=t.querySelector('input[name="address"]'),S=t.querySelector('input[name="contact_person"]'),f=t.querySelector('input[name="email"]'),y=t.querySelector('input[name="phone"]'),g=t.querySelector('select[name="fleet_size"]'),p=t.querySelector('textarea[name="message"]');h&&l.append("company",h.value),b&&l.append("address",b.value),S&&l.append("contact_person",S.value),f&&l.append("email",f.value),y&&l.append("phone",y.value),g&&l.append("fleet_size",g.value),p&&l.append("message",p.value),l.append("_subject","Yoldayım - Demo Talebi");try{const d=await fetch(s,{method:c,headers:{Accept:"application/json"},body:l});if(!d.ok){let u="";try{const T=await d.json();u=(T==null?void 0:T.error)||JSON.stringify(T)}catch{}const z=new Error(`HTTP ${d.status} ${d.statusText}${u?" - "+u:""}`);throw z.status=d.status,z.statusText=d.statusText,z.detail=u,z}if(r){t.style.display="none";const u=document.createElement("div");u.className="form-success-message",u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg><h3>Teşekkürler!</h3><p>Talebiniz alındı. En kısa sürede sizinle iletişime geçeceğiz.</p>',r.appendChild(u)}}catch(d){o&&(o.textContent="Tekrar Gönder",o.removeAttribute("disabled"));let u=t.querySelector(".form-error-msg");u||(u=document.createElement("p"),u.className="form-error-msg",u.style.color="#D32F2F",u.style.textAlign="center",u.style.marginTop="1rem",t.appendChild(u));const z=d&&(d.message||d.detail)?`Hata: ${d.message||d.detail}`:"Mesajınız gönderilemedi. Lütfen daha sonra tekrar deneyin.";u.textContent=z,console.error("[ContactForm] Submit failed",{error:d,action:s,method:c})}})}function K(){const n=document.querySelectorAll("#veliler-page .accordion-item");n.length!==0&&n.forEach(i=>{const t=i.querySelector(".accordion-header");t&&t.addEventListener("click",()=>{const r=i.classList.contains("active");n.forEach(e=>{var o;e.classList.remove("active"),(o=e.querySelector(".accordion-header"))==null||o.setAttribute("aria-expanded","false")}),r||(i.classList.add("active"),t.setAttribute("aria-expanded","true"))})})}function J(){const n=document.querySelector(".testimonial-slider-container");if(!n)return;const i=n.querySelector(".testimonial-track"),t=Array.from(n.querySelectorAll(".testimonial-card")),r=n.querySelector(".testimonial-arrow.next"),e=n.querySelector(".testimonial-arrow.prev"),o=n.querySelector(".testimonial-dots");if(!i||t.length===0||!r||!e||!o)return;let s=0,c;t.forEach((p,d)=>{const u=document.createElement("button");u.classList.add("testimonial-dot"),u.setAttribute("aria-label",`Yorum ${d+1}`),o.appendChild(u),u.addEventListener("click",()=>{h(d),y()})});const l=Array.from(o.querySelectorAll(".testimonial-dot")),h=p=>{i.style.transform=`translateX(-${p*100}%)`,s=p,b()},b=()=>{l.forEach(p=>p.classList.remove("active")),l[s]&&l[s].classList.add("active"),e.disabled=s===0,r.disabled=s===t.length-1},S=()=>{f(),c=window.setInterval(()=>{const p=(s+1)%t.length;h(p)},5e3)},f=()=>{clearInterval(c)},y=()=>{f(),S()};r.addEventListener("click",()=>{s<t.length-1&&(h(s+1),y())}),e.addEventListener("click",()=>{s>0&&(h(s-1),y())}),n.addEventListener("mouseenter",f),n.addEventListener("mouseleave",S),h(0);const g=document.getElementById("veliler-page");g?(new MutationObserver(u=>{for(let z of u)z.attributeName==="class"&&(g.classList.contains("is-hidden")?f():S())}).observe(g,{attributes:!0}),g.classList.contains("is-hidden")||S()):S()}function _(){["#okullar-page","#servis-yoneticileri-page","#suruculer-page"].forEach(i=>{const t=document.querySelector(i);if(!t)return;const r=t.querySelectorAll(".feature-tab-button"),e=t.querySelectorAll(".feature-tab-pane");r.length===0||e.length===0||r.forEach(o=>{o.addEventListener("click",()=>{const s=o.getAttribute("data-tab");r.forEach(c=>c.classList.remove("active")),o.classList.add("active"),e.forEach(c=>{c.classList.toggle("active",c.getAttribute("data-tab")===s)})})})})}function R(){const n=document.querySelectorAll(".faq-item");n.length!==0&&n.forEach(i=>{const t=i.querySelector(".faq-question");t&&t.addEventListener("click",()=>{const r=i.classList.contains("active");i.classList.toggle("active"),t.setAttribute("aria-expanded",String(!r))})})}function X(){const n=a(".mobile-menu-toggle"),i=a("nav"),t=a(".nav-links-container");if(!n||!i||!t)return;I(n,"click",()=>{const e=i.classList.toggle("mobile-menu-open");n.setAttribute("aria-expanded",String(e)),document.body.classList.toggle("no-scroll",e)});const r=()=>{i.classList.remove("mobile-menu-open"),n.setAttribute("aria-expanded","false"),document.body.classList.remove("no-scroll")};I(t,"click",e=>{var s;const o=e.target.closest("a");o?(s=o.parentElement)!=null&&s.classList.contains("dropdown")&&window.innerWidth<=992||r():e.target.classList.contains("demo-button")&&r()})}document.addEventListener("DOMContentLoaded",()=>{F(),V(),W(),H(),G(),Y(),K(),J(),_(),R(),X()});
